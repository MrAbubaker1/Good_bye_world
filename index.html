<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SAITHacks2023 Goodbye World Project</title>
</head>
<body>
    <script>
        /* 
        index.html will be primarily used to route to the other pages.
        None of the pages really hole precedence over the other in terms of a
        "home" page, and so I feel having a routing page to the three will work best
        */

        //define the pages to route to, defaults to explore.html
        const ROUTER = {
            "index": "explore.html",
            "profile": "profile.html",
            "explore": "explore.html",
            "kitchen": "kitchen.html"
        };

        const getRequestedPage = (path) => {
            let pathArray = path.split("/");

            let fileRequested = pathArray[pathArray.length - 1];
            let fileName = fileRequested.split(".")[0].trim()
            return fileName
        }
        
        const routePage = () => {
            //route the user to the correct page
            
            let windowPath = getRequestedPage(window.location.pathname);


            let pages = Object.keys(ROUTER);
            
            console.log("making it here: ", windowPath, pages);

            //check if the direction leads to a page that exists
            if (pages.includes(windowPath)) {
                console.log("The page requested: ", `"${windowPath}"`, pages, ROUTER[windowPath]);
                //route the user to the correct page

                //build the path
                let path = "Pages/" + ROUTER[windowPath]

                window.location.assign(path);
            } else if (windowPath == "") {
                let path = "Pages/" + ROUTER["explore"];

                window.location.assign(path);
            }
        };

        window.addEventListener("load", routePage);
    </script>
</body>
</html>